(this.webpackJsonp=this.webpackJsonp||[]).push([["frosh-platform-avatar"],{"7RoE":function(a){a.exports=JSON.parse('{"global":{"frosh-media-gravatar-form":{"title":"Import avatar from Gravatar","import":"Import","example":"info@example.com","email":"E-mail","url":"URL","notFoundAlert":"No avatar for email address \\"{email}\\" found","loader":"Waiting for gravatar.com to respond"}}}')},KBkr:function(a,r,t){},SPdO:function(a,r,t){"use strict";t.r(r);t("wpcu");var n=t("hnZO"),e=t.n(n);const{Component:o}=Shopware;o.register("frosh-avatar-media-gravatar-form",{template:e.a,inject:["FroshPlatformAvatarGravatarService"],props:{variant:{type:String,required:!0,validValues:["modal","inline"],validator:a=>["modal","inline"].includes(a),default:"inline"},email:{type:String,required:!1,default:null}},data:()=>({loading:!1,url:""}),created(){this.loadUrl()},watch:{email(){this.loadUrl()}},computed:{isValid(){return!this.loading&&this.url}},methods:{loadUrl(){this.loading=!0,this.FroshPlatformAvatarGravatarService.requestAvatarUrl(this.email,240).then(a=>{this.url=a,this.loading=!1})},emitUrl(a){this.isValid&&(this.$emit("frosh-avatar-media-gravatar-form-submit",{originalDomEvent:a,url:new URL(this.url),fileExtension:"jpg"}),"modal"===this.variant&&this.closeModal())},closeModal(){this.$emit("modal-close")}}});const{Utils:l}=Shopware,{format:i,string:s}=l,m=s.md5||i.md5;var d=class{constructor(a){this._httpClient=a}requestAvatarUrl(a,r,t,n){r=r||80,t=t||"g",n=n||"404";const e=`https://s.gravatar.com/avatar/${m(a)}`,o={size:r,rating:t,default:n};return this._httpClient.get(e,{params:o}).then(()=>e).catch(()=>Promise.reject(null))}};const{Application:f}=Shopware;f.addServiceProvider("FroshPlatformAvatarGravatarService",()=>{const a=f.getContainer("init");return new d(a.httpClient)});var v={"de-DE":t("ZMFq"),"en-GB":t("7RoE")};const{Locale:c}=Shopware,u=[v];for(const a of u)for(const[r,t]of Object.entries(a))c.extend(r,t)},ZMFq:function(a){a.exports=JSON.parse('{"global":{"frosh-media-gravatar-form":{"title":"Avatar aus Gravatar importieren","import":"Importieren","example":"info@beispiel.de","email":"E-Mail","url":"URL","notFoundAlert":"Es wurde kein Avatar f√ºr die E-Mail-Adresse \\"{email}\\" gefunden","loader":"Warten auf Antwort von gravatar.com"}}}')},hnZO:function(a,r){a.exports='{% block frosh_media_gravatar_form %}\n    <sw-modal v-if="variant === \'modal\'"\n              class="frosh-avatar-media-gravatar-form is--modal"\n              variant="small"\n              :title="$t(\'global.frosh-media-gravatar-form.title\')"\n              v-on="$listeners">\n        {% block frosh_media_gravatar_form_loader %}\n            <sw-loader\n                v-if="loading"\n                size="50px">\n                {{ $t(\'global.frosh-media-gravatar-form.loader\') }}\n            </sw-loader>\n        {% endblock %}\n\n        <template v-if="!loading">\n            <template v-if="url">\n                {% block frosh_media_gravatar_form_avatar %}\n                    <sw-avatar\n                        class="frosh-avatar-media-gravatar-form__avatar"\n                        size="240px"\n                        color="transparent"\n                        :imageUrl="url">\n                    </sw-avatar>\n                {% endblock %}\n            </template>\n\n            <template v-else>\n                {% block frosh_media_gravatar_form_not_found_alert %}\n                    <sw-alert\n                        variant="error"\n                        appearance="default"\n                        :showIcon="true"\n                        :closable="false">\n                        {{ $t(\'global.frosh-media-gravatar-form.notFoundAlert\', { email }) }}\n                    </sw-alert>\n                {% endblock %}\n            </template>\n\n            {% block frosh_media_gravatar_form_values %}\n                <sw-description-list\n                    grid="auto 1fr"\n                    class="frosh-avatar-media-gravatar-form__values">\n                    {% block frosh_media_gravatar_form_values_email %}\n                    <dt>\n                            {{ $t(\'global.frosh-media-gravatar-form.email\') }}\n                        </dt>\n                        <dd>\n                            {{ email }}\n                        </dd>\n                    {% endblock %}\n\n                    {% block frosh_media_gravatar_form_values_url %}\n                        <template v-if="url">\n                            <dt>\n                                {{ $t(\'global.frosh-media-gravatar-form.url\') }}\n                            </dt>\n                            <dd>\n                                {{ url }}\n                            </dd>\n                        </template>\n                    {% endblock %}\n                </sw-description-list>\n            {% endblock %}\n        </template>\n\n        {% block frosh_media_gravatar_form_footer %}\n            <template slot="modal-footer">\n                {% block frosh_media_gravatar_form_cancel_button %}\n                    <sw-button size="small" @click="closeModal">\n                        {{ $t(\'global.default.cancel\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block frosh_media_gravatar_form_submit_button %}\n                    <sw-button\n                        class="frosh-avatar-media-gravatar-form__submit-button"\n                        variant="primary"\n                        size="small"\n                        :disabled="!isValid"\n                        @click.prevent="emitUrl">\n                        {{ $t(\'global.frosh-media-gravatar-form.import\') }}\n                    </sw-button>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </sw-modal>\n\n    <div\n        v-else-if="variant === \'inline\'"\n        class="frosh-avatar-media-gravatar-form is--inline">\n        <template v-if="url">\n            {% block frosh_media_gravatar_form_avatar %}\n                <sw-avatar\n                    class="frosh-media-gravatar-form__avatar"\n                    size="96px"\n                    color="transparent"\n                    :imageUrl="url">\n                </sw-avatar>\n            {% endblock %}\n        </template>\n\n        <template v-else>\n            {% block frosh_media_gravatar_form_not_found_alert %}\n                <sw-alert\n                    variant="error"\n                    appearance="default"\n                    :showIcon="true"\n                    :closable="false">\n                    {{ $t(\'global.frosh-media-gravatar-form.notFoundAlert\', { email }) }}\n                </sw-alert>\n            {% endblock %}\n        </template>\n\n        {% block frosh_media_gravatar_form_submit_button %}\n            <sw-button\n                class="frosh-media-gravatar-form__submit-button"\n                size="small"\n                variant="primary"\n                :disabled="!isValid"\n                @click="emitUrl">\n                {{ $t(\'global.frosh-media-gravatar-form.import\') }}\n            </sw-button>\n        {% endblock %}\n    </div>\n{% endblock %}\n'},wpcu:function(a,r,t){var n=t("KBkr");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);(0,t("SZ7m").default)("4b76f8a4",n,!0,{})}},[["SPdO","runtime","vendors-node"]]]);